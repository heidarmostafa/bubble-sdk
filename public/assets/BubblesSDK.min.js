!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="/public/assets/",e(0)}([function(t,e,n){t.exports=n(4)},function(t,e){"use strict";function n(t){return new Promise(function(e,n){try{e(window.btoa(encodeURIComponent(t)))}catch(r){n(r)}})}function r(t){return new Promise(function(e,n){try{e(decodeURIComponent(window.atob(t)))}catch(r){n(r)}})}function o(t){return new Promise(function(e,n){try{e(JSON.stringify(t))}catch(r){n(r)}})}function i(t){return new Promise(function(e,n){try{e(JSON.parse(t))}catch(r){n(r)}})}function s(){var t=void 0,e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=window.performance.now()),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})}function u(t,e){return e.indexOf(t)>-1}Object.defineProperty(e,"__esModule",{value:!0}),e.utf8ToB64=n,e.b64ToUtf8=r,e.stringifyJSON=o,e.parseJSON=i,e.generateUUID=s,e.isInArray=u},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(3),u=n(1);t.exports=function(){function t(){o(this,t)}return i(t,null,[{key:"_extractResultFromJson",value:function(t){return new Promise(function(e,n){return t.success&&t.result?e(t.result):n(t.result&&t.result.errorId?t.result.errorId:"No result from BubbleApi")})}},{key:"_getPromisedValueFromSdk",value:function(t,e,n){var o,i=this;return(0,u.parseJSON)((o=window.BubbleAPI)[e].apply(o,r(n))).then(function(t){return i._extractResultFromJson(t)}).then(function(e){return t?e[t]:e})}},{key:"getMyLastSession",value:function(){return this._getPromisedValueFromSdk("sessionId","getLastSession")}},{key:"closeBubble",value:function(){return(0,u.parseJSON)(window.BubbleAPI.closeBubble())}},{key:"getContext",value:function(){return this._getPromisedValueFromSdk("context","getContext")}},{key:"getPayload",value:function(t){return this._getPromisedValueFromSdk("payload","getPayload",[t]).then(function(t){return null===t?Promise.resolve(null):(0,u.b64ToUtf8)(t)}).then(function(t){return(0,u.parseJSON)(t)})}},{key:"createUniqueSessionIdIfOldNotFound",value:function(){return this.getMyLastSession()["catch"](function(){return Promise.resolve((0,u.generateUUID)())})}},{key:"getMessageInstance",value:function(t){return new s.SodaMessage(t)}},{key:"getLastKnownLocation",value:function(){return this._getPromisedValueFromSdk(null,"getLastKnownLocation")}},{key:"copyToClipboard",value:function(t){return this._getPromisedValueFromSdk(null,"copyToClipboard",[t])}},{key:"openInExternalBrowser",value:function(t){return this._getPromisedValueFromSdk(null,"openInExternalBrowser",[t])}},{key:"getUserDetails",value:function(){return this._getPromisedValueFromSdk(null,"getUserDetails")}},{key:"getFriendsDetails",value:function(){return this._getPromisedValueFromSdk(null,"getFriendsDetails")}},{key:"getUserPicture",value:function(t){return this._getPromisedValueFromSdk("picture","getUserPicture",[t])}},{key:"getCurrentLocationAsync",value:function(t){window.BubbleAPI.getCurrentLocationAsync(t)}},{key:"registerToPayloadEvent",value:function(t){window.setPayload=function(e){try{var n=JSON.parse(decodeURIComponent(window.atob(e)));t(n,null)}catch(r){t(null,r)}}}},{key:"registerToBubbleClosedEvent",value:function(t){window.bubbleClosed=function(){t()}}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.SodaMessage=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),s=e.SodaMessage=function(){function t(e){r(this,t),this.sessionId=e,this.priority=2,this.payload="",this.updateMsg=!1,this.actionType=null,this.title=null,this.subTitle=null,this.text=null,this.iconUrl=null,this.bannerUrl=null,this.bubbleAppUrl=null,this.success=!0,this.msg=""}return o(t,[{key:"toObject",value:function(){var t={};for(var e in this)this.hasOwnProperty(e)&&!(0,i.isInArray)(e,["toObject","toString","success","msg"])&&null!==this[e]&&(t[e]=this[e]);return t}},{key:"toString",value:function(){return(0,i.stringifyJSON)(this.toObject()).then(function(t){return t})}}]),t}();s.prototype.setSessionId=function(t){return this.sessionId=t,this},s.prototype.setPriority=function(t){return this.priority=t,this},s.prototype.setPayload=function(t){try{var e=window.btoa(encodeURIComponent(JSON.stringify(t)));this.success=!0,this.payload=e}catch(n){this.success=!1,this.msg=n.message,this.payload=""}finally{return this}},s.prototype.setActionType=function(t){var e=["OPEN","PLAY","INSTALL","ACCEPT","DOWNLOAD","PAY NOW","SHOP NOW","SIGN UP","BOOK NOW","VOTE"];return null===t||(0,i.isInArray)(t,e)?this.actionType=t:(this.msg="No such action type",this.success=!1),this},s.prototype.setTitle=function(t){return this.title=t,this},s.prototype.setSubTitle=function(t){return this.subTitle=t,this},s.prototype.setText=function(t){return this.text=t,this},s.prototype.setIconUrl=function(t){return this.iconUrl=t,this},s.prototype.setBannerUrl=function(t){return this.bannerUrl=t,this},s.prototype.setBubbleAppUrl=function(t){return this.bubbleAppUrl=t,this},s.prototype.setUpdateMsg=function(t){return this.updateMsg=t,this},s.prototype.sendLocalMessage=function(){var t=this;return new Promise(function(e,n){return t.success?void(0,i.stringifyJSON)(t.toObject()).then(function(t){window.BubbleAPI.sendLocalMessage(t)}):n(new Error(t.msg))})},s.prototype.sendRemoteMessage=function(){var t=this;return new Promise(function(e,n){return t.success?void(0,i.stringifyJSON)(t.toObject()).then(function(t){window.BubbleAPI.sendMessage(t)}):n(new Error(t.msg))})}},function(t,e,n){(function(e){t.exports=e.BubbleSDK=n(2)}).call(e,function(){return this}())}]);