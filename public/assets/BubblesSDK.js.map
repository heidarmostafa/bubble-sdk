{"version":3,"sources":["webpack:///webpack/bootstrap 6a4976f67477d239c563","webpack:///./~/soda-sandbox/soda_sandbox.js","webpack:///./src/BubbleSDK.class.js?536e","webpack:///./src/BubbleSDK.class.js","webpack:///./src/SodaMessage.class.js","webpack:///./src/utils.js","webpack:///./src/LeaderBoard.class.js","webpack:///./~/reqwest/reqwest.js","webpack:///xhr2 (ignored)"],"names":["module","exports","json","Promise","resolve","reject","success","result","field","call","args","then","sdkResultJson","_extractResultFromJson","resultObj","_getPromisedValueFromSdk","window","closeBubble","sessionId","base64Json","jsonAsString","getMyLastSession","catch","text","url","userId","cb","getCurrentLocationAsync","setPayload","payload","jsonResult","JSON","parse","decodeURIComponent","atob","e","bubbleClosed","bubbleId","productId","contextId","order","SodaMessage","priority","updateMsg","actionType","title","subTitle","iconUrl","bannerUrl","bubbleAppUrl","msg","res","prop","hasOwnProperty","toObject","str","prototype","setSessionId","setPriority","jsonAsBase64","btoa","encodeURIComponent","stringify","error","message","setActionType","ACTION_TYPES","setTitle","setSubTitle","setText","setIconUrl","setBannerUrl","setBubbleAppUrl","setUpdateMsg","sendLocalMessage","Error","metadata","sendRemoteMessage","sendMessage","utf8ToB64","b64ToUtf8","stringifyJSON","parseJSON","generateUUID","isInArray","uuid","d","Date","getTime","performance","now","replace","c","r","Math","random","floor","toString","value","array","indexOf","reqwest","require","LeaderBoard","ascending","getBoard","method","data","resp","err","getUserBestScore","submitScore","userName","score","crossOrigin","processData","headers"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;ACtCA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,4EAA2E,UAAU;AACrF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,iGAAgG;;AAEhG;AACA;AACA;AACA,8BAA6B;AAC7B;;AAEA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT,sBAAqB;AACrB;AACA,4BAA2B;AAC3B;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb,UAAS;AACT,sBAAqB;AACrB;AACA,4BAA2B;AAC3B;AACA,kBAAiB;AACjB,cAAa;AACb;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,8BAA6B,sBAAsB;AACnD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8BAA6B,0BAA0B;AACvD;;AAEA;AACA;AACA,+BAA8B;AAC9B;;AAEA;AACA;AACA;AACA,8BAA6B,sBAAsB;AACnD;;AAEA;AACA,8BAA6B,kBAAkB;AAC/C;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,uCAAsC;;AAEtC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA,kGAAiG,cAAc;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;ACjZA,2GAAqJ,E;;;;;;;ACArJ;;;;AAEA;;AACA;;AACA;;;;;;AAEA;AACAA,QAAOC,OAAP;AAAA;AAAA;AAAA;;AAAA;AAAA;;;AAEI;AAFJ,gDAGkCC,IAHlC,EAGwC;AAChC,oBAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,qBAAIH,KAAKI,OAAL,IAAgBJ,KAAKK,MAAzB,EAAiC;AAC7B,4BAAOH,QAAQF,KAAK,QAAL,CAAR,CAAP;AACH,kBAFD,MAEO;AACH,yBAAIA,KAAK,QAAL,KAAkBA,KAAK,QAAL,EAAe,SAAf,CAAtB,EAAiD;AAC7C,gCAAOG,OAAOH,KAAK,QAAL,EAAe,SAAf,CAAP,CAAP;AACH,sBAFD,MAEO;AACH,gCAAOG,OAAO,0BAAP,CAAP;AACH;AACJ;AACJ,cAVM,CAAP;AAWH;AAfL;AAAA;AAAA,kDAiBoCG,KAjBpC,EAiB2CC,IAjB3C,EAiBiDC,IAjBjD,EAiBuD;AAAA;AAAA;;AAE/C,iBAAI,OAAOA,IAAP,KAAgB,WAApB,EAAiC;AAC7BA,wBAAO,EAAP;AACH;;AAED,oBAAO,sBAAU,8DAAiBD,IAAjB,8CAA0BC,IAA1B,EAAV,EACFC,IADE,CACG,UAACC,aAAD,EAAmB;AACrB,wBAAO,MAAKC,sBAAL,CAA4BD,aAA5B,CAAP;AACH,cAHE,EAIFD,IAJE,CAIG,UAACG,SAAD,EAAe;AACjB,qBAAIN,KAAJ,EAAW;AACP,4BAAOM,UAAUN,KAAV,CAAP;AACH,kBAFD,MAEO;AACH,4BAAOM,SAAP;AACH;AACJ,cAVE,CAAP;AAWH;;AAED;;;;;;;AApCJ;AAAA;AAAA,4CA0C8B;AACtB,oBAAO,KAAKC,wBAAL,CAA8B,WAA9B,EAA2C,gBAA3C,CAAP;AACH;;AAED;;;;;;AA9CJ;AAAA;AAAA,uCAmDyB;AACjBC,aAAA,wCAAiBC,WAAjB;AACA,oBAAOd,QAAQC,OAAR,CAAgB,EAAhB,CAAP;AACH;;AAED;;;;;;AAxDJ;AAAA;AAAA,sCA6DwB;AAChB,oBAAO,KAAKW,wBAAL,CAA8B,SAA9B,EAAyC,YAAzC,CAAP;AACH;;AAED;;;;;;;AAjEJ;AAAA;AAAA,oCAuEsBG,SAvEtB,EAuEiC;AACzB,oBAAO,KAAKH,wBAAL,CAA8B,SAA9B,EAAyC,YAAzC,EAAuD,CAACG,SAAD,CAAvD,EACFP,IADE,CACG,UAACQ,UAAD,EAAgB;AAClB,qBAAIA,eAAe,IAAnB,EAAyB;AACrB,4BAAOhB,QAAQC,OAAR,CAAgB,IAAhB,CAAP;AACH,kBAFD,MAEO;AACH,4BAAO,sBAAUe,UAAV,CAAP;AACH;AACJ,cAPE,EAQFR,IARE,CAQG,UAACS,YAAD,EAAkB;AACpB,wBAAO,sBAAUA,YAAV,CAAP;AACH,cAVE,CAAP;AAWH;;AAED;;;;;AArFJ;AAAA;AAAA,8DAyFgD;AACxC,oBAAO,KAAKC,gBAAL,GACFC,KADE,CACI,YAAM;AACT,wBAAOnB,QAAQC,OAAR,CAAgB,0BAAhB,CAAP;AACP,cAHM,CAAP;AAIH;AA9FL;AAAA;;;AAgGI;;;;;AAhGJ,gDAqGkC;AAC1B,oBAAO,KAAKW,wBAAL,CAA8B,IAA9B,EAAoC,sBAApC,CAAP;AACH;AAvGL;AAAA;;;AAyGI;;;;AAzGJ,wCA6G0B;AAClB,oBAAO,KAAKA,wBAAL,CAA8B,WAA9B,EAA2C,cAA3C,CAAP;AACH;AA/GL;AAAA;;;AAiHI;;;;;AAjHJ,yCAsH2BQ,IAtH3B,EAsHiC;AACzB,oBAAO,KAAKR,wBAAL,CAA8B,IAA9B,EAAoC,iBAApC,EAAuD,CAACQ,IAAD,CAAvD,CAAP;AACH;AAxHL;AAAA;;;AA0HI;;;;;AA1HJ,+CA+HiCC,GA/HjC,EA+HsC;AAC9B,oBAAO,KAAKT,wBAAL,CAA8B,IAA9B,EAAoC,uBAApC,EAA6D,CAACS,GAAD,CAA7D,CAAP;AACH;AAjIL;AAAA;;;AAmII;;;;;AAnIJ,0CAwI4B;AACpB,oBAAO,KAAKT,wBAAL,CAA8B,IAA9B,EAAoC,gBAApC,CAAP;AACH;AA1IL;AAAA;;;AA4II;;;;;AA5IJ,6CAiJ+B;AACvB,oBAAO,KAAKA,wBAAL,CAA8B,IAA9B,EAAoC,mBAApC,CAAP;AACH;AAnJL;AAAA;;;AAqJI;;;;;;;;;;AArJJ,wCA+J0BU,MA/J1B,EA+JkC;AAC1B,oBAAO,KAAKV,wBAAL,CAA8B,SAA9B,EAAyC,gBAAzC,EAA2D,CAACU,MAAD,CAA3D,CAAP;AACH;AAjKL;AAAA;;;AAmKI;;;;;AAnKJ,iDAwKmCC,EAxKnC,EAwKuC;AAC/BV,aAAA,wCAAiBW,uBAAjB,CAAyCD,EAAzC;AACH;AA1KL;AAAA;;;AA4KI;;;;;AA5KJ,gDAiLkCA,EAjLlC,EAiLsC;AAC9BV,oBAAOY,UAAP,GAAoB,UAASC,OAAT,EAAkB;AAClC,qBAAI;AACA,yBAAIC,aAAaC,KAAKC,KAAL,CAAWC,mBAAmBjB,OAAOkB,IAAP,CAAYL,OAAZ,CAAnB,CAAX,CAAjB;AACAH,wBAAGI,UAAH,EAAe,IAAf;AACH,kBAHD,CAGE,OAAOK,CAAP,EAAU;AACRT,wBAAG,IAAH,EAASS,CAAT;AACH;AACJ,cAPD;AAQH;AA1LL;AAAA;;;AA4LI;;;;;AA5LJ,qDAiMuCT,EAjMvC,EAiM2C;AACnCV,oBAAOoB,YAAP,GAAsB,YAAW;AAC7BV;AACH,cAFD;AAGH;AArML;AAAA;;;AAuMI;;AAEA;;;;;AAzMJ,4CA8M8BR,SA9M9B,EA8MyC;AACjC,oBAAO,6BAAgBA,SAAhB,CAAP;AACH;AAhNL;AAAA;;;AAkNI;;;;;;;;AAlNJ,gDA0NkCmB,QA1NlC,EA0N4CC,SA1N5C,EA0NuDC,SA1NvD,EA0NkEC,KA1NlE,EA0NyE;AACjE,oBAAO,6BAAgBH,QAAhB,EAA0BC,SAA1B,EAAqCC,SAArC,EAAgDC,KAAhD,CAAP;AACH;AA5NL;;AAAA;AAAA,K;;;;;;;ACPA;;;;;;;;;AAEA;;;;KAEaC,W,WAAAA,W;;AAET;;;;;;AAMA,0BAAYvB,SAAZ,EAAuB;AAAA;;AACnB;AACA,cAAKA,SAAL,GAAiBA,SAAjB;AACA,cAAKwB,QAAL,GAAgB,CAAhB;;AAEA;AACA,cAAKb,OAAL,GAAe,EAAf;AACA,cAAKc,SAAL,GAAiB,KAAjB;AACA,cAAKC,UAAL,GAAkB,IAAlB;AACA,cAAKC,KAAL,GAAa,IAAb;AACA,cAAKC,QAAL,GAAgB,IAAhB;AACA,cAAKvB,IAAL,GAAY,IAAZ;AACA,cAAKwB,OAAL,GAAe,IAAf;AACA,cAAKC,SAAL,GAAiB,IAAjB;AACA,cAAKC,YAAL,GAAoB,IAApB;;AAEA;AACA,cAAK3C,OAAL,GAAe,IAAf;AACA,cAAK4C,GAAL,GAAW,EAAX;AACH;;;;oCAEU;AACP,iBAAIC,MAAM,EAAV;AACA,kBAAK,IAAIC,IAAT,IAAiB,IAAjB,EAAuB;AACnB,qBAAI,KAAKC,cAAL,CAAoBD,IAApB,KAA8B,CAAC,sBAAUA,IAAV,EAAgB,CAAC,UAAD,EAAa,UAAb,EAAyB,SAAzB,EAAoC,KAApC,CAAhB,CAA/B,IAAgG,KAAKA,IAAL,MAAe,IAAnH,EAA0H;AACtHD,yBAAIC,IAAJ,IAAY,KAAKA,IAAL,CAAZ;AACH;AACJ;;AAED,oBAAOD,GAAP;AACH;;;oCAEU;AACP,oBAAO,0BAAc,KAAKG,QAAL,EAAd,EACF3C,IADE,CACG,UAAC4C,GAAD,EAAS;AACX,wBAAOA,GAAP;AACP,cAHM,CAAP;AAIH;;;;;;AAGL;;;;;;;AAKAd,aAAYe,SAAZ,CAAsBC,YAAtB,GAAqC,UAASvC,SAAT,EAAoB;AACrD,UAAKA,SAAL,GAAiBA,SAAjB;AACA,YAAO,IAAP;AACH,EAHD;;AAKA;;;;;;;;;AASAuB,aAAYe,SAAZ,CAAsBE,WAAtB,GAAoC,UAAShB,QAAT,EAAmB;AACnD,UAAKA,QAAL,GAAgBA,QAAhB;AACA,YAAO,IAAP;AACH,EAHD;;AAKA;;;;;AAKAD,aAAYe,SAAZ,CAAsB5B,UAAtB,GAAmC,UAASC,OAAT,EAAkB;AACjD,SAAI;AACA,aAAI8B,eAAe3C,OAAO4C,IAAP,CAAYC,mBAAmB9B,KAAK+B,SAAL,CAAejC,OAAf,CAAnB,CAAZ,CAAnB;AACA,cAAKvB,OAAL,GAAe,IAAf;AACA,cAAKuB,OAAL,GAAe8B,YAAf;AACH,MAJD,CAIE,OAAOI,KAAP,EAAc;AACZ,cAAKzD,OAAL,GAAe,KAAf;AACA,cAAK4C,GAAL,GAAWa,MAAMC,OAAjB;AACA,cAAKnC,OAAL,GAAe,EAAf;AACH,MARD,SAQU;AACN;AACA;AACA,gBAAO,IAAP;AACH;AACJ,EAdD;;AAgBA;;;;;AAKAY,aAAYe,SAAZ,CAAsBS,aAAtB,GAAsC,UAASrB,UAAT,EAAqB;AACvD,SAAMsB,eAAe,CAAC,MAAD,EAAS,MAAT,EAAiB,SAAjB,EAA4B,QAA5B,EAAsC,UAAtC,EAAkD,SAAlD,EAA6D,UAA7D,EAAyE,SAAzE,EAAoF,UAApF,EAAgG,MAAhG,CAArB;;AAEA,SAAItB,eAAe,IAAf,IAAuB,sBAAUA,UAAV,EAAsBsB,YAAtB,CAA3B,EAAgE;AAC5D,cAAKtB,UAAL,GAAkBA,UAAlB;AACH,MAFD,MAEO;AACH,cAAKM,GAAL,GAAW,qBAAX;AACA,cAAK5C,OAAL,GAAe,KAAf;AACH;;AAED,YAAO,IAAP;AACH,EAXD;;AAaA;;;;;AAKAmC,aAAYe,SAAZ,CAAsBW,QAAtB,GAAiC,UAAStB,KAAT,EAAgB;AAC7C,UAAKA,KAAL,GAAaA,KAAb;AACA,YAAO,IAAP;AACH,EAHD;;AAKA;;;;;AAKAJ,aAAYe,SAAZ,CAAsBY,WAAtB,GAAoC,UAAStB,QAAT,EAAmB;AACnD,UAAKA,QAAL,GAAgBA,QAAhB;AACA,YAAO,IAAP;AACH,EAHD;;AAKA;;;;;AAKAL,aAAYe,SAAZ,CAAsBa,OAAtB,GAAgC,UAAS9C,IAAT,EAAe;AAC3C,UAAKA,IAAL,GAAYA,IAAZ;AACA,YAAO,IAAP;AACH,EAHD;;AAKA;;;;;AAKAkB,aAAYe,SAAZ,CAAsBc,UAAtB,GAAmC,UAASvB,OAAT,EAAkB;AACjD,UAAKA,OAAL,GAAeA,OAAf;AACA,YAAO,IAAP;AACH,EAHD;;AAKA;;;;;AAKAN,aAAYe,SAAZ,CAAsBe,YAAtB,GAAqC,UAASvB,SAAT,EAAoB;AACrD,UAAKA,SAAL,GAAiBA,SAAjB;AACA,YAAO,IAAP;AACH,EAHD;;AAKA;;;;;AAKAP,aAAYe,SAAZ,CAAsBgB,eAAtB,GAAwC,UAASvB,YAAT,EAAuB;AAC3D,UAAKA,YAAL,GAAoBA,YAApB;AACA,YAAO,IAAP;AACH,EAHD;;AAKA;;;;;AAKAR,aAAYe,SAAZ,CAAsBiB,YAAtB,GAAqC,UAAS9B,SAAT,EAAoB;AACrD,UAAKA,SAAL,GAAiBA,SAAjB;AACA,YAAO,IAAP;AACH,EAHD;;AAKA;;;;AAIAF,aAAYe,SAAZ,CAAsBkB,gBAAtB,GAAyC,YAAW;AAAA;;AAChD,YAAO,IAAIvE,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,aAAI,CAAC,MAAKC,OAAV,EAAmB,OAAOD,OAAO,IAAIsE,KAAJ,CAAU,MAAKzB,GAAf,CAAP,CAAP;AACnB,mCAAc,MAAKI,QAAL,EAAd,EACK3C,IADL,CACU,UAACiE,QAAD,EAAc;AAChB5D,aAAA,wCAAiB0D,gBAAjB,CAAkCE,QAAlC;AACP,UAHD;AAIH,MANM,CAAP;AAOH,EARD;;AAUA;;;;AAIAnC,aAAYe,SAAZ,CAAsBqB,iBAAtB,GAA0C,YAAW;AAAA;;AACjD,YAAO,IAAI1E,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,aAAI,CAAC,OAAKC,OAAV,EAAmB,OAAOD,OAAO,IAAIsE,KAAJ,CAAU,OAAKzB,GAAf,CAAP,CAAP;AACnB,mCAAc,OAAKI,QAAL,EAAd,EACK3C,IADL,CACU,UAACiE,QAAD,EAAc;AAChB5D,aAAA,wCAAiB8D,WAAjB,CAA6BF,QAA7B;AACH,UAHL;AAIH,MANM,CAAP;AAOH,EARD,C;;;;;;;AC3MA;;;;;SAEgBG,S,GAAAA,S;SAUAC,S,GAAAA,S;SAUAC,a,GAAAA,a;SAUAC,S,GAAAA,S;SAUAC,Y,GAAAA,Y;SAiBAC,S,GAAAA,S;AAzDT,UAASL,SAAT,CAAmBxB,GAAnB,EAAwB;AAC3B,YAAO,IAAIpD,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,aAAI;AACAD,qBAAQY,OAAO4C,IAAP,CAAYC,mBAAmBN,GAAnB,CAAZ,CAAR;AACH,UAFD,CAEE,OAAOpB,CAAP,EAAU;AACR9B,oBAAO8B,CAAP;AACH;AACJ,MANM,CAAP;AAOH;;AAEM,UAAS6C,SAAT,CAAmBzB,GAAnB,EAAwB;AAC3B,YAAO,IAAIpD,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,aAAI;AACAD,qBAAQ6B,mBAAmBjB,OAAOkB,IAAP,CAAYqB,GAAZ,CAAnB,CAAR;AACH,UAFD,CAEE,OAAOpB,CAAP,EAAU;AACR9B,oBAAO8B,CAAP;AACH;AACJ,MANM,CAAP;AAOH;;AAEM,UAAS8C,aAAT,CAAuB/E,IAAvB,EAA6B;AAChC,YAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,aAAI;AACAD,qBAAQ2B,KAAK+B,SAAL,CAAe5D,IAAf,CAAR;AACH,UAFD,CAEE,OAAOiC,CAAP,EAAU;AACR9B,oBAAO8B,CAAP;AACH;AACJ,MANM,CAAP;AAOH;;AAEM,UAAS+C,SAAT,CAAmB3B,GAAnB,EAAwB;AAC3B,YAAO,IAAIpD,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,aAAI;AACAD,qBAAQ2B,KAAKC,KAAL,CAAWuB,GAAX,CAAR;AACH,UAFD,CAEE,OAAOpB,CAAP,EAAU;AACR9B,oBAAO8B,CAAP;AACH;AACJ,MANM,CAAP;AAOH;;AAEM,UAASgD,YAAT,GAAwB;AAC3B,SAAIE,aAAJ;AACA,SAAIC,IAAI,IAAIC,IAAJ,GAAWC,OAAX,EAAR;AACA;AACA,SAAIxE,OAAOyE,WAAP,IAAsB,OAAOzE,OAAOyE,WAAP,CAAmBC,GAA1B,KAAkC,UAA5D,EAAwE;AACpE;AACAJ,cAAKtE,OAAOyE,WAAP,CAAmBC,GAAnB,EAAL,CAFoE,CAErC;AAClC;AACD;AACAL,YAAO,uCAAuCM,OAAvC,CAA+C,OAA/C,EAAwD,UAAUC,CAAV,EAAa;AACxE,aAAIC,IAAI,CAACP,IAAIQ,KAAKC,MAAL,KAAgB,EAArB,IAA2B,EAA3B,GAAgC,CAAxC;AACAT,aAAIQ,KAAKE,KAAL,CAAWV,IAAI,EAAf,CAAJ;AACA,gBAAO,CAACM,MAAM,GAAN,GAAYC,CAAZ,GAAiBA,IAAI,GAAJ,GAAU,GAA5B,EAAkCI,QAAlC,CAA2C,EAA3C,CAAP;AACH,MAJM,CAAP;AAKA,YAAOZ,IAAP;AACH;;AAEM,UAASD,SAAT,CAAmBc,KAAnB,EAA0BC,KAA1B,EAAiC;AACpC,YAAOA,MAAMC,OAAN,CAAcF,KAAd,IAAuB,CAAC,CAA/B;AACH,E;;;;;;AC7DD;;;;;;;;AAEA,KAAIG,UAAU,mBAAAC,CAAQ,CAAR,CAAd;;KAEaC,W;;AAET;;;;;;;;SAFSA,W,GAUT,qBAAYlE,QAAZ,EAAsBC,SAAtB,EAAiCC,SAAjC,EAA4D;AAAA,SAAhBC,KAAgB,yDAAR,MAAQ;;AAAA;;AACxD,UAAKH,QAAL,GAAgBA,QAAhB;AACA,UAAKC,SAAL,GAAiBA,SAAjB;AACA,UAAKC,SAAL,GAAiBA,SAAjB;AACA,UAAKiE,SAAL,GAAkBhE,UAAU,KAA5B;AAEH,E;;AAGL;;;;;;AAIA+D,aAAY/C,SAAZ,CAAsBiD,QAAtB,GAAiC,YAAW;AAAA;;AAExC,YAAO,IAAItG,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCgG,iBAAQ;AACJ7E,kBAAK,kFADD;AAEJkF,qBAAQ,KAFJ;AAGJC,mBAAM;AACFtE,2BAAU,MAAKA,QADb;AAEFC,4BAAW,MAAKA,SAFd;AAGFC,4BAAW,MAAKA;AAHd,cAHF;AAQJjC,sBAAS,iBAAUsG,IAAV,EAAgB;AACrBxG,yBAAQwG,IAAR;AACH,cAVG;AAWJ7C,oBAAO,eAAS8C,GAAT,EAAc;AACjBxG,wBAAOwG,GAAP;AACH;AAbG,UAAR;AAeH,MAhBM,CAAP;AAkBH,EApBD;;AAsBA;;;;;AAKAN,aAAY/C,SAAZ,CAAsBsD,gBAAtB,GAAyC,UAASrF,MAAT,EAAiB;AAAA;;AAEtD,YAAO,IAAItB,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCgG,iBAAQ;AACJ7E,kBAAK,0FADD;AAEJkF,qBAAQ,KAFJ;AAGJC,mBAAM;AACFtE,2BAAU,OAAKA,QADb;AAEFC,4BAAW,OAAKA,SAFd;AAGFb,yBAAQA;AAHN,cAHF;AAQJnB,sBAAS,iBAAUsG,IAAV,EAAgB;AACrBxG,yBAAQwG,IAAR;AACH,cAVG;AAWJ7C,oBAAO,eAAS8C,GAAT,EAAc;AACjBxG,wBAAOwG,GAAP;AACH;AAbG,UAAR;AAeH,MAhBM,CAAP;AAkBH,EApBD;;AAsBA;;;;;;;AAOAN,aAAY/C,SAAZ,CAAsBuD,WAAtB,GAAoC,UAAStF,MAAT,EAAiBuF,QAAjB,EAA2BC,KAA3B,EAAkC;AAAA;;AAElE,YAAO,IAAI9G,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;;AAEpCgG,iBAAQ;AACJ7E,kBAAK,qFADD;AAEJkF,qBAAQ,MAFJ;AAGJQ,0BAAa,IAHT;AAIJC,0BAAY,KAJR;AAKJC,sBAAS;AACL,2BAAU,kBADL;AAEL,iCAAgB;AAFX,cALL;AASJT,mBAAM5E,KAAK+B,SAAL,CAAe;AACjBzB,2BAAU,OAAKA,QADE;AAEjBC,4BAAW,OAAKA,SAFC;AAGjBC,4BAAW,OAAKA,SAHC;AAIjBd,yBAAQA,MAJS;AAKjBuF,2BAAUA,QALO;AAMjBC,wBAAOA,KANU;AAOjBT,4BAAW,OAAKA;AAPC,cAAf,CATF;AAkBJlG,sBAAS,iBAAUsG,IAAV,EAAgB;AACrBxG,yBAAQwG,IAAR;AACH,cApBG;AAqBJ7C,oBAAO,eAAS8C,GAAT,EAAc;AACjBxG,wBAAOwG,GAAP;AACH;AAvBG,UAAR;AAyBH,MA3BM,CAAP;AA6BH,EA/BD,C;;;;;;ACnFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA,YAAW;AACX;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAc,mCAAmC;AACjD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,2CAA0C;AAC1C;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,oBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,iBAAiB;AACtC;AACA,wBAAuB,eAAe;AACtC;AACA;;AAEA,gBAAe,sBAAsB;AACrC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,OAAM,uBAAuB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;;AAEA,SAAQ,+BAA+B;AACvC;AACA;AACA;AACA,iBAAgB,yBAAyB;AACzC,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,mBAAmB;AACpC,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACrnBD,gB","file":"BubblesSDK.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/public/assets/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6a4976f67477d239c563\n **/","var windowsObjectReference = {};\n\nfunction SodaSandbox() {\n\n    var me = {};\n    var contacts = [];\n    var userPictures = {};\n    var location = null;\n    var sessionId = \"\";\n    var conversationId = \"\";\n    var payloads = {};\n    var that = this;\n    var storage = localStorage;\n\n    function getMyUrl(){\n        return window.location.href\n    }\n\n    function receiveMessageFromOtherWindow(event)\n    {\n        // Do we trust the sender of this message?\n        if (event.origin !== window.location.origin)\n            return;\n\n        windowsObjectReference[event.data] = event.source;\n    }\n\n    window.addEventListener(\"message\", receiveMessageFromOtherWindow, false);\n\n    function getURLParameter(name) {\n        var where = (window.location.search === \"\") ? window.location.hash : window.location.search;\n        return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(where)||[,\"\"])[1].replace(/\\+/g, '%20'))||null;\n    }\n\n    function createUrl(url, newSessionId, newUserId, newConversationId) {\n        var result = null;\n        if (url && newSessionId && newUserId && newConversationId) {\n            //var loc = url.indexOf('sessionId=');\n            if (getURLParameter('sessionId')) {\n                result = url.replace(/(sessionId=)[^&]+/, '$1' + newSessionId);\n            } else {\n                if (url.indexOf('?') > -1) {\n                    result = url + \"&sessionId=\" + newSessionId;\n                } else {\n                    result = url + \"?sessionId=\" + newSessionId;\n                }\n            }\n            if (getURLParameter('userId')) {\n                result = result.replace(/(&userId=)[^&]+/, '$1' + newUserId);\n            } else {\n                result += \"&userId=\" + newUserId;\n            }\n            if (getURLParameter('conversationId')) {\n                result = result.replace(/(&conversationId=)[^&]+/, '$1' + newConversationId);\n            } else {\n                result += \"&conversationId=\" + newConversationId;\n            }\n        }\n        return result;\n    }\n\n    function saveMessage(metadata, isLocal) {\n        var jsonData = decryptMsg(metadata);\n\n        function storeUserPayload(userId) {\n            var storageItem = decryptMsg(storage.getItem('SODA_ITEM'));\n            if (storageItem === null) {\n                storageItem = {};\n            } else {\n                storage.removeItem('SODA_ITEM');\n            }\n            if (!storageItem.hasOwnProperty(sessionId)){\n                storageItem[sessionId] = {};\n            }\n            storageItem[sessionId][userId] = jsonData.payload;\n            storageItem[sessionId]['whoChanged'] = userId;\n            storage.setItem(\"SODA_ITEM\", encryptMsg(storageItem));\n        }\n\n        if (jsonData !== null && jsonData.sessionId && jsonData.sessionId !== \"\") {\n            sessionId = jsonData.sessionId;\n            storage.setItem(\"SODA_LAST_SESSION\", sessionId);\n\n            var url = (typeof jsonData.bubbleAppUrl === \"undefined\") ? getMyUrl(): decodeURIComponent(jsonData.bubbleAppUrl);\n\n            if (isLocal) {\n                payloads[sessionId] = jsonData.payload;\n                storeUserPayload(me.userId);\n                if (!getURLParameter('sessionId')) {\n                    history.pushState(\"Rewriting URL to add params\", \"localPage\", createUrl(url, sessionId, me.userId, conversationId));\n                }\n\n            } else {\n                contacts.forEach(function(elem){\n                    storeUserPayload(elem.userId);\n                    if (!windowsObjectReference.hasOwnProperty(elem.userId) || windowsObjectReference[elem.userId].closed) {\n                        /* if the pointer to the window object in memory does not exist\n                         or if such pointer exists but the window was closed */\n                        var fullUrl = createUrl(url, sessionId, elem.userId, conversationId);\n                        windowsObjectReference[elem.userId] = window.open(fullUrl, elem.userId); // The second param will cause it to only open in new tab if it doesn't exist.\n\n                        if(typeof windowsObjectReference[elem.userId] !== 'undefined') {\n                            setTimeout(function() {\n                                windowsObjectReference[elem.userId].postMessage(me.userId, fullUrl);\n                            }, 3000);\n                        }\n\n                    }\n                });\n            }\n        }\n    }\n\n    addEventListener('storage', storageListenerFunc);\n\n    function storageListenerFunc(event) {\n        if (event.key === \"SODA_ITEM\" && event.newValue) {\n            if (typeof setPayload === 'function') {\n                var newVal = decryptMsg(event.newValue);\n                if (newVal && newVal[sessionId] && newVal[sessionId]['whoChanged'] === me.userId) {\n                    setPayload(newVal[sessionId][me.userId]);\n                }\n            } else {\n                console.log('no setPayload function declared');\n            }\n        }\n    }\n\n    function decryptMsg(msg) {\n        try {\n            return JSON.parse(msg)\n        } catch (ex) {\n            return null;\n        }\n    }\n\n    function encryptMsg(msg) {\n        try {\n            return JSON.stringify(msg)\n        } catch (ex) {\n            return null;\n        }\n    }\n\n    function generateUUID() {\n        var d = new Date().getTime();\n        if (window.performance && typeof window.performance.now === \"function\") {\n            d += performance.now(); //use high-precision timer if available\n        }\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            var r = (d + Math.random() * 16) % 16 | 0;\n            d = Math.floor(d / 16);\n            return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n        });\n    }\n\n    function errorMsgGenerator(err) {\n        try {\n            return JSON.stringify({\n                \"success\": false,\n                \"result\": {\n                    \"errorId\": err\n                }\n            });\n        } catch (e) {\n            return '{ \\\n                \"success\": false,\\\n                \"result\": {\\\n                \"errorId\": \"bad parameter to function\"\\\n                }\\\n            }'\n        }\n    }\n\n    function msgGenerator(content) {\n        try {\n            return JSON.stringify({\n                \"success\": true,\n                \"result\": content\n            });\n        } catch (e) {\n            return '{ \\\n                \"success\": false,\\\n                \"result\": {\\\n                \"errorId\": \"bad parameter to function\"\\\n                }\\\n            }'\n        }\n\n    }\n\n    function getUserPic(userId) {\n        if (userPictures.hasOwnProperty(userId)) {\n            return userPictures[userId];\n        }\n        return null;\n    }\n\n    //////////////////// PUBLIC METHODS ///////////////////////////////////////\n\n    ////////////// SDK functions start: ///////////////////////////////////////\n\n    this.sendMessage = function(metadata) {\n        saveMessage(metadata, false);\n    };\n\n    this.sendLocalMessage = function(metadata) {\n        saveMessage(metadata, true);\n    };\n\n    // All these functions accept another parameter called err,\n    // if numeric gte 0, will return an error message of that value.\n\n    this.getLastSession = function(err) {\n        if (typeof err === \"number\" && err >= 0) return errorMsgGenerator(err);\n\n        sessionId = sessionId ? sessionId : storage.getItem('SODA_LAST_SESSION');\n        if (!sessionId) return errorMsgGenerator(5);\n        return msgGenerator({sessionId : sessionId});\n    };\n\n    this.getUserDetails = function(err) {\n        if (typeof err === \"number\" && err >= 0) return errorMsgGenerator(err);\n        return msgGenerator(me);\n    };\n\n    this.getFriendsDetails = function(err) {\n        if (typeof err === \"number\" && err >= 0) return errorMsgGenerator(err);\n        return msgGenerator(contacts);\n    };\n\n    this.getLastKnownLocation = function(err) {\n        if (typeof err === \"number\" && err >= 0) return errorMsgGenerator(err);\n        return msgGenerator(location);\n    };\n\n    this.getUserPicture = function(userId, err) {\n        if (typeof err === \"number\" && err >= 0) return errorMsgGenerator(err);\n        var userPic = getUserPic(userId);\n        return (userPic === null) ? errorMsgGenerator(5) : msgGenerator(userPic);\n    };\n\n    this.getPayload = function(sessionId, err) {\n        if (typeof err === \"number\" && err >= 0) return errorMsgGenerator(err);\n        var res = {\"payload\": null};\n        if (payloads.hasOwnProperty(sessionId)) {\n            res.payload = payloads[sessionId];\n        }\n        return msgGenerator(res);\n    };\n\n    this.getContext = function(err) {\n        if (typeof err === \"number\" && err >= 0) return errorMsgGenerator(err);\n        return msgGenerator({\"context\": conversationId});\n    };\n\n    this.copyToClipboard = function(err) {\n        if (typeof err === \"number\" && err >= 0) return errorMsgGenerator(err);\n        return msgGenerator({});\n    };\n\n    this.openInExternalBrowser = function(url, err) {\n        if (typeof err === \"number\" && err >= 0) return errorMsgGenerator(err);\n        var windowId = window.open(url);\n        return msgGenerator({'windowId' : windowId});\n    };\n\n    this.getProductId = function() {\n        return msgGenerator({\"productId\":\"123\"});\n    };\n\n    // Async\n    this.getCurrentLocationAsync = function(listener_name, err) {\n        if (typeof err === \"number\" && err >= 0) return errorMsgGenerator(err);\n        if (typeof listener_name !== \"function\") return errorMsgGenerator(\"callback function not supplied\");\n        that.setLastLocation(null, listener_name);\n    };\n\n    this.closeBubble = function() {\n        window.close();\n    };\n\n    ////////////// SDK functions end //////////////////////////////////////////\n\n    // Helper functions, not part of SDK:\n\n    // init - Used by SodaSandbox class to initialize it - Don't use.\n    this.init = function () {\n        var firstUser = \"Dima-123\";\n        var otherUser = \"Andrea-123\";\n        var mockItem = {\n            context: generateUUID(),\n            members: [{\n                userId: firstUser,\n                firstName: \"Dima\",\n                lastName: \"Nemetz\",\n                userName: \"diman\"\n            },{\n                userId: otherUser,\n                firstName: \"Andrea\",\n                lastName: \"Alkalay\",\n                userName: \"andrea\"\n            }],\n            userPictures: {}\n        };\n        mockItem.userPictures[firstUser] = {\n            type: \"base64\",\n            picture: \"data:image/jpeg;base64,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ueQC42ut2vLDoSOtilBMyx+R97XHS66mUvZYc9d1yu0k6Xv3WpBYbckO3QoEjmuaAbFvq05HdXJwDxr/ABOnZheISXqo2+h7jbO3p7qli5psW6G3NdYaiSlmbNC50cjTcPboQuxk4slZcuAXoY5Kp0ofDVzOlbK3UNJcbtPe6mbT5jGuzA3F9Duq24BxqlkoThVSPS4k+rmSpL+Km4drmQTuL6KU/wAt5/SehK0xao6mSHUEFzbe5WznuvYNvfULLHRzQBwN76gha/h3NF2vPpCkdKm8SMElpK9uJ07C2nqX5Xgfpf8A8/7pJR07G00dN11cOpVtYvhzcVw2akla0iRvpdbZw1BVQYY6VuOT00wyvgeWOHcbqqSpkGhhx6rbUVwgiaWxU7TGB3uS4/P7JlS3EmkYnWdpn/8AkkjRe/sqmVmBobhbuOmoPzWmlud1sed1w6jRZCwsg2N0OHRpAvc8ui3zkkZjoFzbveyCfVlB0vookzqCAL/G46rD7ZQ4Ek227LAcMwFhcdt10DQTlGovbMRogZ0pqt8cjHscQ5vfdX3wL4lVNDHSRYnK+ow6cZWvdq6Fw0IB5jt8l55JyusDdoNwplw3NJU4DiEN7/hy2aM9DzUkjh7BhnjqIWTRPbJG9oc1zTcEHYhKFQvhtxtLhWIR0FbO52HT6DMbiFx2I6Dqr5BBFwbhCJ//2SAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA=\"\n\n        };\n        mockItem.userPictures[otherUser] = {\n            type: \"image/jpeg\",\n            picture: \"http://lp.startapp.com/BreakTheIce/images/bar.jpeg\"\n        };\n\n        var paramUserId = getURLParameter('userId');\n        var paramContextId = getURLParameter('conversationId');\n        var currentUser = firstUser;\n        if (paramUserId && paramContextId){\n            currentUser = paramUserId;\n            conversationId = paramContextId;\n            var allConversations = decryptMsg(storage.getItem(\"SODA_conversations\"));\n            mockItem = allConversations[paramContextId];\n            var myNewUser = mockItem.members[0];\n            var redoMembers = mockItem.members.filter(function(elem){\n                if (elem.userId !== paramUserId) {\n                    return true;\n                } else {\n                    myNewUser = elem;\n                }\n            });\n            redoMembers.unshift(myNewUser);\n            mockItem.members = redoMembers;\n        }\n        that.mockContextAndMembers(mockItem);\n        var paramSessionId = getURLParameter('sessionId');\n        if (paramSessionId){\n            sessionId = paramSessionId;\n            var a = decryptMsg(storage.getItem(\"SODA_ITEM\"));\n            if (a && a.hasOwnProperty(paramSessionId) && a[paramSessionId].hasOwnProperty(currentUser)) {\n                payloads[paramSessionId] = a[paramSessionId][currentUser];\n            }\n        }\n        that.setLastLocation({\n            coords: {\n                accuracy: 1194,\n                altitude: null,\n                altitudeAccuracy: null,\n                heading: null,\n                latitude: 37.810977,\n                longitude: -122.477301,\n                speed: null\n            },\n            timestamp: Date.now()\n        });\n    };\n\n    // setLastLocation - Use this function with coords of your choice to alter the last location found.\n    this.setLastLocation = function (myLocation, cb) {\n        if (myLocation) {\n            location = myLocation;\n        } else {\n            if (navigator.geolocation) {\n                navigator.geolocation.getCurrentPosition(function (position) {\n                    location = position;\n                    if (typeof cb === 'function') cb(position);\n                });\n            }\n        }\n    };\n\n    // mockContextAndMembers - Use this function to dictate all meta objects:\n    //      ** context - Make it unique\n    //      ** members array - containing all the users in the conversation - The first one will be the user of this tab.\n    //      ** userPictures object - each key is a userId, each value an object of userPicture: {\"picture\": \"\"}.\n    this.mockContextAndMembers = function(details) {\n        if (details.context && details.members && details.members.length > 1) {\n            var context = details.context;\n            if (conversationId !== context){\n                var allConversations = decryptMsg(storage.getItem(\"SODA_conversations\")) || {};\n                if (!allConversations.hasOwnProperty(context)) {\n                    allConversations[context] = details;\n                    storage.setItem(\"SODA_conversations\", encryptMsg(allConversations));\n                }\n            }\n            conversationId = context;\n            me = details.members[0];\n            window.name = me.userId;\n            details.members.shift();\n            contacts = details.members;\n            userPictures = details.userPictures;\n        }\n    };\n}\n\nvar BubbleAPI = new SodaSandbox();\nBubbleAPI.init();\n\n//Export sandbox for package usage\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = BubbleAPI;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/soda-sandbox/soda_sandbox.js\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = global[\"BubbleSDK\"] = require(\"-!/Users/leoliber/Repos/work/bubble-sdk/node_modules/babel-loader/index.js?{\\\"presets\\\":[\\\"es2015\\\"]}!/Users/leoliber/Repos/work/bubble-sdk/node_modules/eslint-loader/index.js!/Users/leoliber/Repos/work/bubble-sdk/src/BubbleSDK.class.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/BubbleSDK.class.js\n ** module id = 2\n ** module chunks = 0\n **/","'use strict';\n\nimport {SodaMessage} from './SodaMessage.class';\nimport {LeaderBoard} from './LeaderBoard.class';\nimport {parseJSON, generateUUID, b64ToUtf8} from './utils.js';\n\n//noinspection JSUnusedLocalSymbols\nmodule.exports = class BubbleSDK {\n\n    //Private functions\n    static _extractResultFromJson(json) {\n        return new Promise((resolve, reject) => {\n            if (json.success && json.result) {\n                return resolve(json['result']);\n            } else {\n                if (json['result'] && json['result']['errorId']) {\n                    return reject(json['result']['errorId']);\n                } else {\n                    return reject('No result from BubbleApi');\n                }\n            }\n        });\n    };\n\n    static _getPromisedValueFromSdk(field, call, args) {\n\n        if (typeof args === 'undefined') {\n            args = [];\n        }\n\n        return parseJSON(window.BubbleAPI[call](...args))\n            .then((sdkResultJson) => {\n                return this._extractResultFromJson(sdkResultJson);\n            })\n            .then((resultObj) => {\n                if (field) {\n                    return resultObj[field];\n                } else {\n                    return resultObj;\n                }\n            });\n    }\n\n    /**\n     * Get the last received sessionId.\n     * You can use this id to restore the last payload in case the bubble was lunched without a sessionId\n     * {@link https://github.com/StartApp-SDK/SODA/wiki/Bubbles-Integration#-getlastsession}\n     * @returns {Promise.<string>}\n     * */\n    static getMyLastSession() {\n        return this._getPromisedValueFromSdk('sessionId', 'getLastSession');\n    }\n\n    /**\n     * Close bubble\n     * {@link https://github.com/StartApp-SDK/SODA/wiki/Bubbles-Integration#bubble-to-sdk}\n     * @returns {Promise.<string>}\n     */\n    static closeBubble() {\n        window.BubbleAPI.closeBubble();\n        return Promise.resolve('');\n    }\n\n    /**\n     * Get the context of the hosting container (conversation, page, etc.).\n     * You can use this context if you save external state for your bubble per context.\n     * @returns {Promise.<string>}\n     */\n    static getContext() {\n        return this._getPromisedValueFromSdk('context', 'getContext');\n    }\n\n    /**\n     * Get the last payload of a given session\n     * {@link https://github.com/StartApp-SDK/SODA/wiki/Bubbles-Integration#-getpayload}\n     * @param sessionId\n     * @returns {Promise.<json>}\n     */\n    static getPayload(sessionId) {\n        return this._getPromisedValueFromSdk('payload', 'getPayload', [sessionId])\n            .then((base64Json) => {\n                if (base64Json === null) {\n                    return Promise.resolve(null);\n                } else {\n                    return b64ToUtf8(base64Json);\n                }\n            })\n            .then((jsonAsString) => {\n                return parseJSON(jsonAsString);\n            });\n    }\n\n    /**\n     * Generate a random session id\n     * @returns {Promise.<string>}\n     */\n    static createUniqueSessionIdIfOldNotFound() {\n        return this.getMyLastSession()\n            .catch(() => {\n                return Promise.resolve(generateUUID());\n        });\n    };\n\n    /**\n     * Get last known location of the current user (doesn't query the GPS directly)\n     * {@link https://github.com/StartApp-SDK/SODA/wiki/Bubbles-Integration#-getlastknownlocation}\n     * @returns {Promise.<json>}\n     */\n    static getLastKnownLocation() {\n        return this._getPromisedValueFromSdk(null, 'getLastKnownLocation');\n    };\n\n    /**\n     * Returns the current bubble's product ID\n     * @returns {Promise.<json>}\n     */\n    static getProductId() {\n        return this._getPromisedValueFromSdk('productId', 'getProductId');\n    };\n\n    /**\n     * Adds any give text to the device's clipboard, ready for pasting anywhere and outside the app\n     * @param {string} text - The string we want to send to the clipboard\n     * @returns {Promise.<json>}\n     */\n    static copyToClipboard(text) {\n        return this._getPromisedValueFromSdk(null, 'copyToClipboard', [text]);\n    };\n\n    /**\n     * Open a given URL in the device's default web browser\n     * @param {string} URL - The URL to be opened\n     * @returns {Promise.<string>}\n     */\n    static openInExternalBrowser(url) {\n        return this._getPromisedValueFromSdk(null, 'openInExternalBrowser', [url]);\n    };\n\n    /**\n     * Get details of the current user\n     * {@link https://github.com/StartApp-SDK/SODA/wiki/Bubbles-Integration#-getuserdetails}\n     * @returns {Promise.<json>}\n     */\n    static getUserDetails() {\n        return this._getPromisedValueFromSdk(null, 'getUserDetails');\n    };\n\n    /**\n     * Details of all friends active on the current chat. Requires extra permission.\n     * {@link https://github.com/StartApp-SDK/SODA/wiki/Bubbles-Integration#-getfriendsdetails}\n     * @returns {Promise.<json>}\n     */\n    static getFriendsDetails() {\n        return this._getPromisedValueFromSdk(null, 'getFriendsDetails');\n    };\n\n    /**\n     * Get user profile picture\n     * Might be returned using the following sources:\n     * 1. base64 encoded image\n     * 2. image URL\n     * 3. path to a local picture\n     * {@link https://github.com/StartApp-SDK/SODA/wiki/Bubbles-Integration#-getuserpicture}\n     * @param userId\n     * @returns {Promise.<json>}\n     */\n    static getUserPicture(userId) {\n        return this._getPromisedValueFromSdk('picture', 'getUserPicture', [userId]);\n    };\n\n    /**\n     * Get active location of the current user (query the GPS directly)\n     * {@link https://github.com/StartApp-SDK/SODA/wiki/Bubbles-Integration#-getcurrentlocationasync}\n     * @param {function} callback - The callback function\n     */\n    static getCurrentLocationAsync(cb) {\n        window.BubbleAPI.getCurrentLocationAsync(cb);\n    };\n\n    /**\n     * The SDK calls the provided callback function method whenever a new payload is available for the bubble (for example, when a new message arrives)\n     * {@link https://github.com/StartApp-SDK/SODA/wiki/Bubbles-Integration#sdk-to-bubble}\n     * @param {function} callback -  The function that will called on payload event\n     */\n    static registerToPayloadEvent(cb) {\n        window.setPayload = function(payload) {\n            try {\n                var jsonResult = JSON.parse(decodeURIComponent(window.atob(payload)));\n                cb(jsonResult, null);\n            } catch (e) {\n                cb(null, e);\n            }\n        };\n    };\n\n    /**\n     * The SDK will call the provided callback function when a bubble is being terminated by the container application\n     * {@link https://github.com/StartApp-SDK/SODA/wiki/Bubbles-Integration#sdk-to-bubble}\n     * @param {function} callback - The callback function\n     */\n    static registerToBubbleClosedEvent(cb) {\n        window.bubbleClosed = function() {\n            cb();\n        };\n    };\n\n    //Services\n\n    /**\n     * Returns a new instance of the SodaMessage class\n     * @param {string} sessionId\n     * @returns {SodaMessage}\n     */\n    static getMessageInstance(sessionId) {\n        return new SodaMessage(sessionId);\n    };\n\n    /**\n     * Returns a new instance of LeaderBoard class\n     * @param {string} bubbleId\n     * @param {string} productId - Decided an supplied by StartApp\n     * @param {string} contextId - The context id\n     * @param {enum} order - asc/desc string. Dictates what accounts for a better score - lower or higher numbers\n     * @returns {LeaderBoard}\n     */\n    static getLeaderboardInstance(bubbleId, productId, contextId, order) {\n        return new LeaderBoard(bubbleId, productId, contextId, order);\n    };\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/BubbleSDK.class.js\n **/","'use strict';\n\nimport {stringifyJSON, isInArray} from './utils.js';\n\nexport class SodaMessage {\n\n    /**\n     * Creates an instance of SodaMessage\n     * {@link https://github.com/StartApp-SDK/SODA/wiki/Bubbles-Integration#the-msg-json-object}\n     * @constructor\n     * @param {string} sessionId\n     */\n    constructor(sessionId) {\n        // Mandatory message fields:\n        this.sessionId = sessionId;\n        this.priority = 2;\n\n        // Non mandatory fields:\n        this.payload = '';\n        this.updateMsg = false;\n        this.actionType = null;\n        this.title = null;\n        this.subTitle = null;\n        this.text = null;\n        this.iconUrl = null;\n        this.bannerUrl = null;\n        this.bubbleAppUrl = null;\n\n        // local vars for relaying problematic handling.\n        this.success = true;\n        this.msg = '';\n    }\n\n    toObject() {\n        let res = {};\n        for (let prop in this) {\n            if (this.hasOwnProperty(prop) && (!isInArray(prop, ['toObject', 'toString', 'success', 'msg'])) && (this[prop] !== null)) {\n                res[prop] = this[prop];\n            }\n        }\n\n        return res;\n    };\n\n    toString() {\n        return stringifyJSON(this.toObject())\n            .then((str) => {\n                return str;\n        });\n    }\n}\n\n/**\n * The session Id of your message\n * @param {string} sessionId\n * @returns {SodaMessage}\n */\nSodaMessage.prototype.setSessionId = function(sessionId) {\n    this.sessionId = sessionId;\n    return this;\n};\n\n/**\n * Priority is the \"level of urgency\" of this notification, by which it will be treated by the container application. Possible values:\n * 0. Silent - use this option to send in-bubble messages that won't be displayed on the container app\n * 1. Low\n * 2. Medium\n * 3. High\n * @param {string} priority\n * @returns {SodaMessage}\n */\nSodaMessage.prototype.setPriority = function(priority) {\n    this.priority = priority;\n    return this;\n};\n\n/**\n * The message content\n * @param {string} payload\n * @returns {SodaMessage}\n */\nSodaMessage.prototype.setPayload = function(payload) {\n    try {\n        var jsonAsBase64 = window.btoa(encodeURIComponent(JSON.stringify(payload)));\n        this.success = true;\n        this.payload = jsonAsBase64;\n    } catch (error) {\n        this.success = false;\n        this.msg = error.message;\n        this.payload = '';\n    } finally {\n        //noinspection ReturnInsideFinallyBlockJS\n        /* eslint-disable no-unsafe-finally */\n        return this;\n    }\n};\n\n/**\n * The action performed by clicking this message.\n * @param {enum} actionType - Options are OPEN, PLAY, INSTALL, ACCEPT, DOWNLOAD, PAY NOW, SHOP NOW, SIGN UP, BOOK NOW, VOTE\n * @returns {SodaMessage}\n */\nSodaMessage.prototype.setActionType = function(actionType) {\n    const ACTION_TYPES = ['OPEN', 'PLAY', 'INSTALL', 'ACCEPT', 'DOWNLOAD', 'PAY NOW', 'SHOP NOW', 'SIGN UP', 'BOOK NOW', 'VOTE'];\n\n    if (actionType === null || isInArray(actionType, ACTION_TYPES)) {\n        this.actionType = actionType;\n    } else {\n        this.msg = 'No such action type';\n        this.success = false;\n    }\n\n    return this;\n};\n\n/**\n * The notification title\n * @param {string} title\n * @returns {SodaMessage}\n */\nSodaMessage.prototype.setTitle = function(title) {\n    this.title = title;\n    return this;\n};\n\n/**\n * The notification sub-title\n * @param {string} subTitle\n * @returns {SodaMessage}\n */\nSodaMessage.prototype.setSubTitle = function(subTitle) {\n    this.subTitle = subTitle;\n    return this;\n};\n\n/**\n * The notification text\n * @param {string} text\n * @returns {SodaMessage}\n */\nSodaMessage.prototype.setText = function(text) {\n    this.text = text;\n    return this;\n};\n\n/**\n * The URL for a notification preview icon (square)\n * @param {string} iconUrl\n * @returns {SodaMessage}\n */\nSodaMessage.prototype.setIconUrl = function(iconUrl) {\n    this.iconUrl = iconUrl;\n    return this;\n};\n\n/**\n * The URL for a notification preview banner\n * @param {string} bannerUrl\n * @returns {SodaMessage}\n */\nSodaMessage.prototype.setBannerUrl = function(bannerUrl) {\n    this.bannerUrl = bannerUrl;\n    return this;\n};\n\n/**\n * The \"base URL\" of the Bubble. This URL will be used by the SDK to open the Bubble on the other side. Leave this parameter blank to use the bubble's default URL.\n * @param {string} bubbleAppUrl\n * @returns {SodaMessage}\n */\nSodaMessage.prototype.setBubbleAppUrl = function(bubbleAppUrl) {\n    this.bubbleAppUrl = bubbleAppUrl;\n    return this;\n};\n\n/**\n * Use this parameter to ask the container application to override the last native massage with new data.\n * @param {string} updateMsg\n * @returns {SodaMessage}\n */\nSodaMessage.prototype.setUpdateMsg = function(updateMsg) {\n    this.updateMsg = updateMsg;\n    return this;\n};\n\n/**\n * After the message values are set - execute this function to actually send it locally\n * @returns {Promise}\n */\nSodaMessage.prototype.sendLocalMessage = function() {\n    return new Promise((resolve, reject) => {\n        if (!this.success) return reject(new Error(this.msg));\n        stringifyJSON(this.toObject())\n            .then((metadata) => {\n                window.BubbleAPI.sendLocalMessage(metadata);\n        });\n    });\n};\n\n/**\n *  After the message values are set - execute this function to actually send it locally\n * @returns {Promise}\n */\nSodaMessage.prototype.sendRemoteMessage = function() {\n    return new Promise((resolve, reject) => {\n        if (!this.success) return reject(new Error(this.msg));\n        stringifyJSON(this.toObject())\n            .then((metadata) => {\n                window.BubbleAPI.sendMessage(metadata);\n            });\n    });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/SodaMessage.class.js\n **/","'use strict';\n\nexport function utf8ToB64(str) {\n    return new Promise((resolve, reject) => {\n        try {\n            resolve(window.btoa(encodeURIComponent(str)));\n        } catch (e) {\n            reject(e);\n        }\n    });\n}\n\nexport function b64ToUtf8(str) {\n    return new Promise((resolve, reject) => {\n        try {\n            resolve(decodeURIComponent(window.atob(str)));\n        } catch (e) {\n            reject(e);\n        }\n    });\n}\n\nexport function stringifyJSON(json) {\n    return new Promise((resolve, reject) => {\n        try {\n            resolve(JSON.stringify(json));\n        } catch (e) {\n            reject(e);\n        }\n    });\n}\n\nexport function parseJSON(str) {\n    return new Promise((resolve, reject) => {\n        try {\n            resolve(JSON.parse(str));\n        } catch (e) {\n            reject(e);\n        }\n    });\n}\n\nexport function generateUUID() {\n    let uuid;\n    let d = new Date().getTime();\n    //noinspection JSUnresolvedVariable\n    if (window.performance && typeof window.performance.now === 'function') {\n        //noinspection JSUnresolvedVariable\n        d += window.performance.now(); //use high-precision timer if available\n    }\n    //noinspection SpellCheckingInspection\n    uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        let r = (d + Math.random() * 16) % 16 | 0;\n        d = Math.floor(d / 16);\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n    return uuid;\n}\n\nexport function isInArray(value, array) {\n    return array.indexOf(value) > -1;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/","'use strict';\n\nlet reqwest = require('reqwest');\n\nexport class LeaderBoard {\n\n    /**\n     * Constructor of Leaderboard\n     * @constructor\n     * @param {string} bubbleId\n     * @param {string} productId - Decided an supplied by StartApp\n     * @param {string} contextId - The context id\n     * @param {enum} order - asc/desc string. Dictates what accounts for a better score - lower or higher numbers\n     */\n    constructor(bubbleId, productId, contextId, order = 'desc') {\n        this.bubbleId = bubbleId;\n        this.productId = productId;\n        this.contextId = contextId;\n        this.ascending = (order === 'asc');\n\n    }\n}\n\n/**\n * Return the board of a specific context\n * @returns {Promise}\n */\nLeaderBoard.prototype.getBoard = function() {\n\n    return new Promise((resolve, reject) => {\n        reqwest({\n            url: 'https://leaderboard.startappnetwork.com/leaderboard-service/leaderboard/getboard',\n            method: 'get',\n            data: {\n                bubbleId: this.bubbleId,\n                productId: this.productId,\n                contextId: this.contextId\n            },\n            success: function (resp) {\n                resolve(resp);\n            },\n            error: function(err) {\n                reject(err);\n            }\n        });\n    });\n\n};\n\n/**\n * Get user's best score for current bubble\n * @param {string} userId\n * @returns {Promise}\n */\nLeaderBoard.prototype.getUserBestScore = function(userId) {\n\n    return new Promise((resolve, reject) => {\n        reqwest({\n            url: 'https://leaderboard.startappnetwork.com/leaderboard-service/leaderboard/getuserbestscore',\n            method: 'get',\n            data: {\n                bubbleId: this.bubbleId,\n                productId: this.productId,\n                userId: userId\n            },\n            success: function (resp) {\n                resolve(resp);\n            },\n            error: function(err) {\n                reject(err);\n            }\n        });\n    });\n\n};\n\n/**\n * Submit new score\n * @param {string} userId\n * @param {string} userName\n * @param {int} score\n * @returns {Promise}\n */\nLeaderBoard.prototype.submitScore = function(userId, userName, score) {\n\n    return new Promise((resolve, reject) => {\n\n        reqwest({\n            url: 'https://leaderboard.startappnetwork.com/leaderboard-service/leaderboard/submitscore',\n            method: 'POST',\n            crossOrigin: true,\n            processData:false,\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            data: JSON.stringify({\n                bubbleId: this.bubbleId,\n                productId: this.productId,\n                contextId: this.contextId,\n                userId: userId,\n                userName: userName,\n                score: score,\n                ascending: this.ascending\n            }),\n            success: function (resp) {\n                resolve(resp);\n            },\n            error: function(err) {\n                reject(err);\n            }\n        });\n    });\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/LeaderBoard.class.js\n **/","/*!\n  * Reqwest! A general purpose XHR connection manager\n  * license MIT (c) Dustin Diaz 2015\n  * https://github.com/ded/reqwest\n  */\n\n!function (name, context, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define(definition)\n  else context[name] = definition()\n}('reqwest', this, function () {\n\n  var context = this\n\n  if ('window' in context) {\n    var doc = document\n      , byTag = 'getElementsByTagName'\n      , head = doc[byTag]('head')[0]\n  } else {\n    var XHR2\n    try {\n      XHR2 = require('xhr2')\n    } catch (ex) {\n      throw new Error('Peer dependency `xhr2` required! Please npm install xhr2')\n    }\n  }\n\n\n  var httpsRe = /^http/\n    , protocolRe = /(^\\w+):\\/\\//\n    , twoHundo = /^(20\\d|1223)$/ //http://stackoverflow.com/questions/10046972/msie-returns-status-code-of-1223-for-ajax-request\n    , readyState = 'readyState'\n    , contentType = 'Content-Type'\n    , requestedWith = 'X-Requested-With'\n    , uniqid = 0\n    , callbackPrefix = 'reqwest_' + (+new Date())\n    , lastValue // data stored by the most recent JSONP callback\n    , xmlHttpRequest = 'XMLHttpRequest'\n    , xDomainRequest = 'XDomainRequest'\n    , noop = function () {}\n\n    , isArray = typeof Array.isArray == 'function'\n        ? Array.isArray\n        : function (a) {\n            return a instanceof Array\n          }\n\n    , defaultHeaders = {\n          'contentType': 'application/x-www-form-urlencoded'\n        , 'requestedWith': xmlHttpRequest\n        , 'accept': {\n              '*':  'text/javascript, text/html, application/xml, text/xml, */*'\n            , 'xml':  'application/xml, text/xml'\n            , 'html': 'text/html'\n            , 'text': 'text/plain'\n            , 'json': 'application/json, text/javascript'\n            , 'js':   'application/javascript, text/javascript'\n          }\n      }\n\n    , xhr = function(o) {\n        // is it x-domain\n        if (o['crossOrigin'] === true) {\n          var xhr = context[xmlHttpRequest] ? new XMLHttpRequest() : null\n          if (xhr && 'withCredentials' in xhr) {\n            return xhr\n          } else if (context[xDomainRequest]) {\n            return new XDomainRequest()\n          } else {\n            throw new Error('Browser does not support cross-origin requests')\n          }\n        } else if (context[xmlHttpRequest]) {\n          return new XMLHttpRequest()\n        } else if (XHR2) {\n          return new XHR2()\n        } else {\n          return new ActiveXObject('Microsoft.XMLHTTP')\n        }\n      }\n    , globalSetupOptions = {\n        dataFilter: function (data) {\n          return data\n        }\n      }\n\n  function succeed(r) {\n    var protocol = protocolRe.exec(r.url)\n    protocol = (protocol && protocol[1]) || context.location.protocol\n    return httpsRe.test(protocol) ? twoHundo.test(r.request.status) : !!r.request.response\n  }\n\n  function handleReadyState(r, success, error) {\n    return function () {\n      // use _aborted to mitigate against IE err c00c023f\n      // (can't read props on aborted request objects)\n      if (r._aborted) return error(r.request)\n      if (r._timedOut) return error(r.request, 'Request is aborted: timeout')\n      if (r.request && r.request[readyState] == 4) {\n        r.request.onreadystatechange = noop\n        if (succeed(r)) success(r.request)\n        else\n          error(r.request)\n      }\n    }\n  }\n\n  function setHeaders(http, o) {\n    var headers = o['headers'] || {}\n      , h\n\n    headers['Accept'] = headers['Accept']\n      || defaultHeaders['accept'][o['type']]\n      || defaultHeaders['accept']['*']\n\n    var isAFormData = typeof FormData !== 'undefined' && (o['data'] instanceof FormData);\n    // breaks cross-origin requests with legacy browsers\n    if (!o['crossOrigin'] && !headers[requestedWith]) headers[requestedWith] = defaultHeaders['requestedWith']\n    if (!headers[contentType] && !isAFormData) headers[contentType] = o['contentType'] || defaultHeaders['contentType']\n    for (h in headers)\n      headers.hasOwnProperty(h) && 'setRequestHeader' in http && http.setRequestHeader(h, headers[h])\n  }\n\n  function setCredentials(http, o) {\n    if (typeof o['withCredentials'] !== 'undefined' && typeof http.withCredentials !== 'undefined') {\n      http.withCredentials = !!o['withCredentials']\n    }\n  }\n\n  function generalCallback(data) {\n    lastValue = data\n  }\n\n  function urlappend (url, s) {\n    return url + (/\\?/.test(url) ? '&' : '?') + s\n  }\n\n  function handleJsonp(o, fn, err, url) {\n    var reqId = uniqid++\n      , cbkey = o['jsonpCallback'] || 'callback' // the 'callback' key\n      , cbval = o['jsonpCallbackName'] || reqwest.getcallbackPrefix(reqId)\n      , cbreg = new RegExp('((^|\\\\?|&)' + cbkey + ')=([^&]+)')\n      , match = url.match(cbreg)\n      , script = doc.createElement('script')\n      , loaded = 0\n      , isIE10 = navigator.userAgent.indexOf('MSIE 10.0') !== -1\n\n    if (match) {\n      if (match[3] === '?') {\n        url = url.replace(cbreg, '$1=' + cbval) // wildcard callback func name\n      } else {\n        cbval = match[3] // provided callback func name\n      }\n    } else {\n      url = urlappend(url, cbkey + '=' + cbval) // no callback details, add 'em\n    }\n\n    context[cbval] = generalCallback\n\n    script.type = 'text/javascript'\n    script.src = url\n    script.async = true\n    if (typeof script.onreadystatechange !== 'undefined' && !isIE10) {\n      // need this for IE due to out-of-order onreadystatechange(), binding script\n      // execution to an event listener gives us control over when the script\n      // is executed. See http://jaubourg.net/2010/07/loading-script-as-onclick-handler-of.html\n      script.htmlFor = script.id = '_reqwest_' + reqId\n    }\n\n    script.onload = script.onreadystatechange = function () {\n      if ((script[readyState] && script[readyState] !== 'complete' && script[readyState] !== 'loaded') || loaded) {\n        return false\n      }\n      script.onload = script.onreadystatechange = null\n      script.onclick && script.onclick()\n      // Call the user callback with the last value stored and clean up values and scripts.\n      fn(lastValue)\n      lastValue = undefined\n      head.removeChild(script)\n      loaded = 1\n    }\n\n    // Add the script to the DOM head\n    head.appendChild(script)\n\n    // Enable JSONP timeout\n    return {\n      abort: function () {\n        script.onload = script.onreadystatechange = null\n        err({}, 'Request is aborted: timeout', {})\n        lastValue = undefined\n        head.removeChild(script)\n        loaded = 1\n      }\n    }\n  }\n\n  function getRequest(fn, err) {\n    var o = this.o\n      , method = (o['method'] || 'GET').toUpperCase()\n      , url = typeof o === 'string' ? o : o['url']\n      // convert non-string objects to query-string form unless o['processData'] is false\n      , data = (o['processData'] !== false && o['data'] && typeof o['data'] !== 'string')\n        ? reqwest.toQueryString(o['data'])\n        : (o['data'] || null)\n      , http\n      , sendWait = false\n\n    // if we're working on a GET request and we have data then we should append\n    // query string to end of URL and not post data\n    if ((o['type'] == 'jsonp' || method == 'GET') && data) {\n      url = urlappend(url, data)\n      data = null\n    }\n\n    if (o['type'] == 'jsonp') return handleJsonp(o, fn, err, url)\n\n    // get the xhr from the factory if passed\n    // if the factory returns null, fall-back to ours\n    http = (o.xhr && o.xhr(o)) || xhr(o)\n\n    http.open(method, url, o['async'] === false ? false : true)\n    setHeaders(http, o)\n    setCredentials(http, o)\n    if (context[xDomainRequest] && http instanceof context[xDomainRequest]) {\n        http.onload = fn\n        http.onerror = err\n        // NOTE: see\n        // http://social.msdn.microsoft.com/Forums/en-US/iewebdevelopment/thread/30ef3add-767c-4436-b8a9-f1ca19b4812e\n        http.onprogress = function() {}\n        sendWait = true\n    } else {\n      http.onreadystatechange = handleReadyState(this, fn, err)\n    }\n    o['before'] && o['before'](http)\n    if (sendWait) {\n      setTimeout(function () {\n        http.send(data)\n      }, 200)\n    } else {\n      http.send(data)\n    }\n    return http\n  }\n\n  function Reqwest(o, fn) {\n    this.o = o\n    this.fn = fn\n\n    init.apply(this, arguments)\n  }\n\n  function setType(header) {\n    // json, javascript, text/plain, text/html, xml\n    if (header === null) return undefined; //In case of no content-type.\n    if (header.match('json')) return 'json'\n    if (header.match('javascript')) return 'js'\n    if (header.match('text')) return 'html'\n    if (header.match('xml')) return 'xml'\n  }\n\n  function init(o, fn) {\n\n    this.url = typeof o == 'string' ? o : o['url']\n    this.timeout = null\n\n    // whether request has been fulfilled for purpose\n    // of tracking the Promises\n    this._fulfilled = false\n    // success handlers\n    this._successHandler = function(){}\n    this._fulfillmentHandlers = []\n    // error handlers\n    this._errorHandlers = []\n    // complete (both success and fail) handlers\n    this._completeHandlers = []\n    this._erred = false\n    this._responseArgs = {}\n\n    var self = this\n\n    fn = fn || function () {}\n\n    if (o['timeout']) {\n      this.timeout = setTimeout(function () {\n        timedOut()\n      }, o['timeout'])\n    }\n\n    if (o['success']) {\n      this._successHandler = function () {\n        o['success'].apply(o, arguments)\n      }\n    }\n\n    if (o['error']) {\n      this._errorHandlers.push(function () {\n        o['error'].apply(o, arguments)\n      })\n    }\n\n    if (o['complete']) {\n      this._completeHandlers.push(function () {\n        o['complete'].apply(o, arguments)\n      })\n    }\n\n    function complete (resp) {\n      o['timeout'] && clearTimeout(self.timeout)\n      self.timeout = null\n      while (self._completeHandlers.length > 0) {\n        self._completeHandlers.shift()(resp)\n      }\n    }\n\n    function success (resp) {\n      var type = o['type'] || resp && setType(resp.getResponseHeader('Content-Type')) // resp can be undefined in IE\n      resp = (type !== 'jsonp') ? self.request : resp\n      // use global data filter on response text\n      var filteredResponse = globalSetupOptions.dataFilter(resp.responseText, type)\n        , r = filteredResponse\n      try {\n        resp.responseText = r\n      } catch (e) {\n        // can't assign this in IE<=8, just ignore\n      }\n      if (r) {\n        switch (type) {\n        case 'json':\n          try {\n            resp = context.JSON ? context.JSON.parse(r) : eval('(' + r + ')')\n          } catch (err) {\n            return error(resp, 'Could not parse JSON in response', err)\n          }\n          break\n        case 'js':\n          resp = eval(r)\n          break\n        case 'html':\n          resp = r\n          break\n        case 'xml':\n          resp = resp.responseXML\n              && resp.responseXML.parseError // IE trololo\n              && resp.responseXML.parseError.errorCode\n              && resp.responseXML.parseError.reason\n            ? null\n            : resp.responseXML\n          break\n        }\n      }\n\n      self._responseArgs.resp = resp\n      self._fulfilled = true\n      fn(resp)\n      self._successHandler(resp)\n      while (self._fulfillmentHandlers.length > 0) {\n        resp = self._fulfillmentHandlers.shift()(resp)\n      }\n\n      complete(resp)\n    }\n\n    function timedOut() {\n      self._timedOut = true\n      self.request.abort()\n    }\n\n    function error(resp, msg, t) {\n      resp = self.request\n      self._responseArgs.resp = resp\n      self._responseArgs.msg = msg\n      self._responseArgs.t = t\n      self._erred = true\n      while (self._errorHandlers.length > 0) {\n        self._errorHandlers.shift()(resp, msg, t)\n      }\n      complete(resp)\n    }\n\n    this.request = getRequest.call(this, success, error)\n  }\n\n  Reqwest.prototype = {\n    abort: function () {\n      this._aborted = true\n      this.request.abort()\n    }\n\n  , retry: function () {\n      init.call(this, this.o, this.fn)\n    }\n\n    /**\n     * Small deviation from the Promises A CommonJs specification\n     * http://wiki.commonjs.org/wiki/Promises/A\n     */\n\n    /**\n     * `then` will execute upon successful requests\n     */\n  , then: function (success, fail) {\n      success = success || function () {}\n      fail = fail || function () {}\n      if (this._fulfilled) {\n        this._responseArgs.resp = success(this._responseArgs.resp)\n      } else if (this._erred) {\n        fail(this._responseArgs.resp, this._responseArgs.msg, this._responseArgs.t)\n      } else {\n        this._fulfillmentHandlers.push(success)\n        this._errorHandlers.push(fail)\n      }\n      return this\n    }\n\n    /**\n     * `always` will execute whether the request succeeds or fails\n     */\n  , always: function (fn) {\n      if (this._fulfilled || this._erred) {\n        fn(this._responseArgs.resp)\n      } else {\n        this._completeHandlers.push(fn)\n      }\n      return this\n    }\n\n    /**\n     * `fail` will execute when the request fails\n     */\n  , fail: function (fn) {\n      if (this._erred) {\n        fn(this._responseArgs.resp, this._responseArgs.msg, this._responseArgs.t)\n      } else {\n        this._errorHandlers.push(fn)\n      }\n      return this\n    }\n  , 'catch': function (fn) {\n      return this.fail(fn)\n    }\n  }\n\n  function reqwest(o, fn) {\n    return new Reqwest(o, fn)\n  }\n\n  // normalize newline variants according to spec -> CRLF\n  function normalize(s) {\n    return s ? s.replace(/\\r?\\n/g, '\\r\\n') : ''\n  }\n\n  function serial(el, cb) {\n    var n = el.name\n      , t = el.tagName.toLowerCase()\n      , optCb = function (o) {\n          // IE gives value=\"\" even where there is no value attribute\n          // 'specified' ref: http://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-862529273\n          if (o && !o['disabled'])\n            cb(n, normalize(o['attributes']['value'] && o['attributes']['value']['specified'] ? o['value'] : o['text']))\n        }\n      , ch, ra, val, i\n\n    // don't serialize elements that are disabled or without a name\n    if (el.disabled || !n) return\n\n    switch (t) {\n    case 'input':\n      if (!/reset|button|image|file/i.test(el.type)) {\n        ch = /checkbox/i.test(el.type)\n        ra = /radio/i.test(el.type)\n        val = el.value\n        // WebKit gives us \"\" instead of \"on\" if a checkbox has no value, so correct it here\n        ;(!(ch || ra) || el.checked) && cb(n, normalize(ch && val === '' ? 'on' : val))\n      }\n      break\n    case 'textarea':\n      cb(n, normalize(el.value))\n      break\n    case 'select':\n      if (el.type.toLowerCase() === 'select-one') {\n        optCb(el.selectedIndex >= 0 ? el.options[el.selectedIndex] : null)\n      } else {\n        for (i = 0; el.length && i < el.length; i++) {\n          el.options[i].selected && optCb(el.options[i])\n        }\n      }\n      break\n    }\n  }\n\n  // collect up all form elements found from the passed argument elements all\n  // the way down to child elements; pass a '<form>' or form fields.\n  // called with 'this'=callback to use for serial() on each element\n  function eachFormElement() {\n    var cb = this\n      , e, i\n      , serializeSubtags = function (e, tags) {\n          var i, j, fa\n          for (i = 0; i < tags.length; i++) {\n            fa = e[byTag](tags[i])\n            for (j = 0; j < fa.length; j++) serial(fa[j], cb)\n          }\n        }\n\n    for (i = 0; i < arguments.length; i++) {\n      e = arguments[i]\n      if (/input|select|textarea/i.test(e.tagName)) serial(e, cb)\n      serializeSubtags(e, [ 'input', 'select', 'textarea' ])\n    }\n  }\n\n  // standard query string style serialization\n  function serializeQueryString() {\n    return reqwest.toQueryString(reqwest.serializeArray.apply(null, arguments))\n  }\n\n  // { 'name': 'value', ... } style serialization\n  function serializeHash() {\n    var hash = {}\n    eachFormElement.apply(function (name, value) {\n      if (name in hash) {\n        hash[name] && !isArray(hash[name]) && (hash[name] = [hash[name]])\n        hash[name].push(value)\n      } else hash[name] = value\n    }, arguments)\n    return hash\n  }\n\n  // [ { name: 'name', value: 'value' }, ... ] style serialization\n  reqwest.serializeArray = function () {\n    var arr = []\n    eachFormElement.apply(function (name, value) {\n      arr.push({name: name, value: value})\n    }, arguments)\n    return arr\n  }\n\n  reqwest.serialize = function () {\n    if (arguments.length === 0) return ''\n    var opt, fn\n      , args = Array.prototype.slice.call(arguments, 0)\n\n    opt = args.pop()\n    opt && opt.nodeType && args.push(opt) && (opt = null)\n    opt && (opt = opt.type)\n\n    if (opt == 'map') fn = serializeHash\n    else if (opt == 'array') fn = reqwest.serializeArray\n    else fn = serializeQueryString\n\n    return fn.apply(null, args)\n  }\n\n  reqwest.toQueryString = function (o, trad) {\n    var prefix, i\n      , traditional = trad || false\n      , s = []\n      , enc = encodeURIComponent\n      , add = function (key, value) {\n          // If value is a function, invoke it and return its value\n          value = ('function' === typeof value) ? value() : (value == null ? '' : value)\n          s[s.length] = enc(key) + '=' + enc(value)\n        }\n    // If an array was passed in, assume that it is an array of form elements.\n    if (isArray(o)) {\n      for (i = 0; o && i < o.length; i++) add(o[i]['name'], o[i]['value'])\n    } else {\n      // If traditional, encode the \"old\" way (the way 1.3.2 or older\n      // did it), otherwise encode params recursively.\n      for (prefix in o) {\n        if (o.hasOwnProperty(prefix)) buildParams(prefix, o[prefix], traditional, add)\n      }\n    }\n\n    // spaces should be + according to spec\n    return s.join('&').replace(/%20/g, '+')\n  }\n\n  function buildParams(prefix, obj, traditional, add) {\n    var name, i, v\n      , rbracket = /\\[\\]$/\n\n    if (isArray(obj)) {\n      // Serialize array item.\n      for (i = 0; obj && i < obj.length; i++) {\n        v = obj[i]\n        if (traditional || rbracket.test(prefix)) {\n          // Treat each array item as a scalar.\n          add(prefix, v)\n        } else {\n          buildParams(prefix + '[' + (typeof v === 'object' ? i : '') + ']', v, traditional, add)\n        }\n      }\n    } else if (obj && obj.toString() === '[object Object]') {\n      // Serialize object item.\n      for (name in obj) {\n        buildParams(prefix + '[' + name + ']', obj[name], traditional, add)\n      }\n\n    } else {\n      // Serialize scalar item.\n      add(prefix, obj)\n    }\n  }\n\n  reqwest.getcallbackPrefix = function () {\n    return callbackPrefix\n  }\n\n  // jQuery and Zepto compatibility, differences can be remapped here so you can call\n  // .ajax.compat(options, callback)\n  reqwest.compat = function (o, fn) {\n    if (o) {\n      o['type'] && (o['method'] = o['type']) && delete o['type']\n      o['dataType'] && (o['type'] = o['dataType'])\n      o['jsonpCallback'] && (o['jsonpCallbackName'] = o['jsonpCallback']) && delete o['jsonpCallback']\n      o['jsonp'] && (o['jsonpCallback'] = o['jsonp'])\n    }\n    return new Reqwest(o, fn)\n  }\n\n  reqwest.ajaxSetup = function (options) {\n    options = options || {}\n    for (var k in options) {\n      globalSetupOptions[k] = options[k]\n    }\n  }\n\n  return reqwest\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/reqwest/reqwest.js\n ** module id = 7\n ** module chunks = 0\n **/","/* (ignored) */\n\n\n/*****************\n ** WEBPACK FOOTER\n ** xhr2 (ignored)\n ** module id = 8\n ** module chunks = 0\n **/"],"sourceRoot":""}