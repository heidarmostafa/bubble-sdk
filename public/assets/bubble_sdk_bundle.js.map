{"version":3,"sources":["webpack:///webpack/bootstrap 94d791d29c5de9cce86d","webpack:///./src/bubble_sdk.js?a4c9","webpack:///./src/bubble_sdk.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/SodaMessage.class.js"],"names":[],"mappings":"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","file":"bubble_sdk_bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/public/assets/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 94d791d29c5de9cce86d\n **/","module.exports = global[\"BubbleSdk\"] = require(\"-!C:\\\\work\\\\startappdev\\\\Other stuff\\\\services\\\\bubble_sdk\\\\node_modules\\\\babel-loader\\\\index.js?{\\\"presets\\\":[\\\"es2015\\\"]}!C:\\\\work\\\\startappdev\\\\Other stuff\\\\services\\\\bubble_sdk\\\\src\\\\bubble_sdk.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/bubble_sdk.js\n ** module id = 1\n ** module chunks = 0\n **/","\"use strict\";\r\n\r\nimport {SodaMessage} from \"./SodaMessage.class\";\r\n\r\n( function( global, factory ) {\r\n    \"use strict\";\r\n\r\n    if ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\r\n\r\n        // For CommonJS and CommonJS-like environments where a proper `window`\r\n        // is present, execute the factory and get BubbleSdk.\r\n        // For environments that do not have a `window` with a `document`\r\n        // (such as Node.js), expose a factory as module.exports.\r\n        // This accentuates the need for the creation of a real `window`.\r\n        // e.g. var BubbleSdk = require(\"BubbleSdk\")(window);\r\n        module.exports = global.document ?\r\n            factory( global, true ) :\r\n            function( w ) {\r\n                if ( !w.document ) {\r\n                    throw new Error( \"BubbleSdk requires a window with a document\" );\r\n                }\r\n                return factory( w );\r\n            };\r\n    } else {\r\n        factory( global );\r\n    }\r\n\r\n// Pass this if window is not defined yet\r\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\r\n\r\n    \"use strict\";\r\n    class BubbleSdk {\r\n        constructor() {\r\n            this.sodaMessage = new SodaMessage(\"123\");\r\n        }\r\n        toString() {\r\n            return this.sodaMessage.toString();\r\n        }\r\n    }\r\n\r\n    var BubbleSdkVar = function() {\r\n        var that = this;\r\n\r\n        // getPayload\r\n        // getContext\r\n        // closeBubble\r\n\r\n        // API:\r\n        this.getMyLastSession = function (){\r\n            var lastSessionString = window.BubbleAPI.getLastSession();\r\n            if (lastSessionString) {\r\n                var lastSession = that.getSuccessfulResultFromJson(that.parseJSON(lastSessionString), 'sessionId');\r\n                if (lastSession) {\r\n                    return lastSession;\r\n                }\r\n            }\r\n            return null;\r\n        };\r\n\r\n        this.getPayload = function (sessionId){\r\n            var payloadString = window.BubbleAPI.getPayload(sessionId);\r\n            if (payloadString) {\r\n                var payload = that.getSuccessfulResultFromJson(that.parseJSON(payloadString), 'payload');\r\n                if (payload) {\r\n                    return payload;\r\n                }\r\n            }\r\n            return null;\r\n        };\r\n\r\n        // UTILS:\r\n\r\n        // Return a regular string or null.\r\n        this.utf8_to_b64 = function(str) {\r\n            try {\r\n                return window.btoa(encodeURIComponent(str));\r\n            } catch (e) {\r\n                return null;\r\n            }\r\n        };\r\n\r\n        // Return a base64 string or null.\r\n        this.b64_to_utf8 = function (str) {\r\n            try {\r\n                return decodeURIComponent(window.atob(str));\r\n            } catch (e) {\r\n                return null;\r\n            }\r\n        };\r\n\r\n        // Return the parsed JSON or \"\".\r\n        this.parseJSON = function(json) {\r\n            try {\r\n                return JSON.parse(json);\r\n            } catch (e) {\r\n                return \"\";\r\n            }\r\n        };\r\n\r\n        // Return the stringified JSON or null.\r\n        this.stringifyJSON = function(str) {\r\n            try {\r\n                return JSON.stringify(str)\r\n            } catch (e) {\r\n                return null;\r\n            }\r\n        };\r\n\r\n        this.getSuccessfulResultFromJson = function (json, field) {\r\n            var res = null;\r\n            if (json.success && json.result && field === 'wholeObject'){\r\n                return json.result\r\n            }\r\n\r\n            if (json.success && json.result && json['result'][field] ){\r\n                res = json['result'][field];\r\n                if (field === 'payload') {\r\n                    return that.b64_to_utf8(res);\r\n                }\r\n            } else {\r\n                if (field === 'picture') {\r\n                    res = \"\";\r\n                }\r\n            }\r\n            return res;\r\n        };\r\n\r\n        this.generateUUID = function () {\r\n            var uuid;\r\n            var d = new Date().getTime();\r\n            //noinspection JSUnresolvedVariable\r\n            if (window.performance && typeof window.performance.now === \"function\") {\r\n                //noinspection JSUnresolvedVariable\r\n                d += performance.now(); //use high-precision timer if available\r\n            }\r\n            //noinspection SpellCheckingInspection\r\n            uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n                var r = (d + Math.random() * 16) % 16 | 0;\r\n                d = Math.floor(d / 16);\r\n                return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n            });\r\n            return uuid;\r\n        };\r\n\r\n        this.createUniqueSessionIdIfOldNotFound = function (){\r\n            return that.getMyLastSession() || that.generateUUID();\r\n        };\r\n\r\n    };\r\n\r\n    var SodaDeviceData = function() {\r\n        var that = this;\r\n\r\n        this.lastLocation = {};\r\n\r\n        // getLastKnownLocation\r\n        // copyToClipboard\r\n        // openInExternalBrowser\r\n        // getCurrentLocationAsync\r\n    };\r\n\r\n    var SodaUserData = function() {\r\n        var that = this;\r\n\r\n        this.me = {};\r\n        this.contacts = [];\r\n\r\n        // getUserDetails\r\n        // getFriendsDetails\r\n        // getUserPicture\r\n    };\r\n\r\n\r\n    if ( !noGlobal ) {\r\n        window.BubbleSdk = BubbleSdk;\r\n    }\r\n\r\n    return BubbleSdk;\r\n});\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/bubble_sdk.js\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 3\n ** module chunks = 0\n **/","\"use strict\";\r\n\r\nexport class SodaMessage {\r\n    constructor(sessionId) {\r\n        // Mandatory message fields:\r\n        this.sessionId = sessionId;\r\n        this.priority = 2;\r\n\r\n        // Non mandatory fields:\r\n        this.payload = \"\";\r\n        this.actionType = null;\r\n        this.title = null;\r\n        this.subTitle = null;\r\n        this.text = null;\r\n        this.iconUrl = null;\r\n        this.bannerUrl = null;\r\n        this.bubbleAppUrl = null;\r\n        this.updateMsg = true;\r\n\r\n        this.success = true;\r\n        this.msg = \"\";\r\n    }\r\n\r\n    toObject() {\r\n        function isInArray(value, array) {\r\n            return array.indexOf(value) > -1;\r\n        }\r\n\r\n        var res = {};\r\n        var that = this;\r\n        for (var prop in that) {\r\n            if (that.hasOwnProperty(prop) && (!isInArray(prop, ['toObject', 'success', 'msg'])) && (that[prop] !== null)) {\r\n                res[prop] = that[prop];\r\n            }\r\n        }\r\n\r\n        return res;\r\n    };\r\n\r\n    toString() {\r\n        return JSON.stringify(this.toObject());\r\n    }\r\n}\r\n\r\nSodaMessage.prototype.setSessionId = function(sessionId) {\r\n    this.sessionId = sessionId;\r\n    return this;\r\n};\r\n\r\nSodaMessage.prototype.setPriority = function(priority) {\r\n    this.priority = priority;\r\n    return this;\r\n};\r\n\r\nSodaMessage.prototype.setPayload = function(payload) {\r\n    var bubbleSdk = new BubbleSdkVar();\r\n\r\n    var myPayload = bubbleSdk.b64_to_utf8(bubbleSdk.stringifyJSON(payload));\r\n    if (myPayload !== null) {\r\n        this.success = true;\r\n        this.payload = myPayload;\r\n    } else {\r\n        this.success = false;\r\n        this.msg = \"Payload is not in the correct format\";\r\n        this.payload = \"\";\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\nSodaMessage.prototype.setActionType = function(actionType) {\r\n    var ACTION_TYPES = [\"OPEN\", \"PLAY\", \"INSTALL\", \"ACCEPT\", \"DOWNLOAD\", \"PAY NOW\", \"SHOP NOW\", \"SIGN UP\", \"BOOK NOW\", \"VOTE\"];\r\n    var flag = false;\r\n\r\n    if (actionType === null) {\r\n        flag = true;\r\n    } else {\r\n        for (var i=0; i < ACTION_TYPES.length; i++){\r\n            if (ACTION_TYPES[i] === actionType) flag = true;\r\n        }\r\n    }\r\n\r\n    this.success = flag;\r\n    if (!flag) {\r\n        this.msg = \"No such action type\";\r\n    }\r\n    this.actionType = actionType;\r\n    return this;\r\n};\r\n\r\nSodaMessage.prototype.setTitle = function(title) {\r\n    this.title = title;\r\n    return this;\r\n};\r\n\r\nSodaMessage.prototype.setSubTitle = function(subTitle) {\r\n    this.subTitle = subTitle;\r\n    return this;\r\n};\r\n\r\nSodaMessage.prototype.setText = function(text) {\r\n    this.text = text;\r\n    return this;\r\n};\r\n\r\nSodaMessage.prototype.setIconUrl = function(iconUrl) {\r\n    this.iconUrl = iconUrl;\r\n    return this;\r\n};\r\n\r\nSodaMessage.prototype.setBannerUrl = function(bannerUrl) {\r\n    this.bannerUrl = bannerUrl;\r\n    return this;\r\n};\r\n\r\nSodaMessage.prototype.setBubbleAppUrl = function(bubbleAppUrl) {\r\n    this.bubbleAppUrl = bubbleAppUrl;\r\n    return this;\r\n};\r\n\r\nSodaMessage.prototype.setUpdateMsg = function(updateMsg) {\r\n    this.updateMsg = updateMsg;\r\n    return this;\r\n};\r\n\r\nSodaMessage.prototype.sendLocalMessage = function() {\r\n    if (!this.success) return {success: false, msg: this.msg};\r\n    var bubbleSdk = new BubbleSdkVar();\r\n    var metadata = bubbleSdk.parseJSON(this.toObject());\r\n    if (metadata) {\r\n        BubbleAPI.sendLocalMessage(metadata);\r\n    } else {\r\n        return {success: false, msg: this.msg};\r\n    }\r\n    return {success: true};\r\n};\r\n\r\nSodaMessage.prototype.sendRemoteMessage = function() {\r\n    if (!this.success)\r\n        return {success: false, msg: this.msg};\r\n\r\n    var bubbleSdk = new BubbleSdkVar();\r\n    var metadata = bubbleSdk.parseJSON(this.toObject());\r\n    if (metadata) {\r\n        BubbleAPI.sendMessage(metadata);\r\n    } else {\r\n        return {success: false, msg: this.msg};\r\n    }\r\n    return {success: true};\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/SodaMessage.class.js\n **/"],"sourceRoot":""}